package tictactoegaming;

import java.util.Scanner;

public class TicTacGame {
	
	public static void playgame( String symbol) {
		
		Scanner scanner = new Scanner(System.in);
		 char [][] tictac = new char[3][3];
	while (true) {
		playerTurn(tictac, scanner);
		if (isGameFinished(tictac)){
			break;
		}
		printBoard(tictac);
		
		computerTurn(tictac);
		if (isGameFinished(tictac)){
			break;
		}
		printGrid(tictac);
	}
	scanner.close();
		
	}
	
	private static void printGrid(char[][] board) {
		System.out.println(board[0][0] + "|" +  board[0][1] + "|" +  board[0][2] );
		System.out.println("-+-+-");
		System.out.println(board[1][0] + "|" +  board[1][1] + "|" +  board[1][2] );
		System.out.println("-+-+-");
		System.out.println(board[2][0] + "|" +  board[2][1] + "|" +  board[2][2] );
	}
	

	private static boolean isGameFinished(char[][] tictac) {
		
		if (hasContestantWon(tictac, 'X')) {	
			printGrid(tictac);
			System.out.println("Player wins!");
			return true;
		}
		
		if (hasContestantWon(tictac, 'O')) {	
			printGrid(tictac);
			System.out.println("Computer wins!");
			return true;
		}
		
		for (int i = 0; i < tictac.length; i++) {
			for (int j = 0; j < tictac[i].length; j++) {
				if (tictac[i][j] == ' ') {
					return false;
				}
			}
		}
		printGrid(tictac);
		System.out.println("The game ended in a tie!");
		return true;
	}
	
	private static boolean hasContestantWon(char[][] board, char symbol) {
		if ((board[0][0] == symbol && board [0][1] == symbol && board [0][2] == symbol) ||
			(board[1][0] == symbol && board [1][1] == symbol && board [1][2] == symbol) ||
			(board[2][0] == symbol && board [2][1] == symbol && board [2][2] == symbol) ||
			
			(board[0][0] == symbol && board [1][0] == symbol && board [2][0] == symbol) ||
			(board[0][1] == symbol && board [1][1] == symbol && board [2][1] == symbol) ||
			(board[0][2] == symbol && board [1][2] == symbol && board [2][2] == symbol) ||
			
			(board[0][0] == symbol && board [1][1] == symbol && board [2][2] == symbol) ||
			(board[0][2] == symbol && board [1][1] == symbol && board [2][0] == symbol) ) {
			return true;
		}
		return false;
	}
}
	